<?xml version="1.0" encoding="UTF-8"?>

<extension engine="1.0">

	<id>pun_newwindow</id>
	<title>URL BBCode in new window</title>

	<version>1.0</version>

	<description>Makes all links generated by the [url] BBCODE open in a new
	window.</description>

	<author>Cody Robertson (Robot Smile)</author>

	<minversion>1.3.4</minversion>
	<maxtestedon>1.3.4</maxtestedon>

	<hooks>

		<hook id="ps_handle_url_tag_end"><![CDATA[
			if ($bbcode) {
				if ($full_url == $link)
					return '[url]'.$link.'[/url]';
				else
					return '[url='.$full_url.']'.$link.'[/url]';
			}
			else {
				return '<a href="'.$full_url.'" target="_blank">'.$link.'</a>';
			}

		]]></hook>

	</hooks>

</extension
